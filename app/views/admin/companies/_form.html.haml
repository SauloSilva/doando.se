= simple_form_for [:admin, setup_company(@company)] do |f|
  - if @company.errors.any?
    #error_explanation
      .errors
        = pluralize(@company.errors.count, "erro")
        foram encontrados:

      %ul
        - @company.errors.full_messages.each do |msg|
          %li= msg

  .inputs
    = f.input :active, :as => :radio
    = f.input :name
    = f.input :fancy_name
    = f.input :cnpj
    = f.input :responsible

    %h2= t('views.company.address')
    = f.nested_fields_for :address do |address|
      .inputs
        = address.input :number
        = address.input :street
        = address.input :neighborhood
        = address.input :city
        = address.input :zip_code
        = address.input :state
        = address.input :complement
        = address.hidden_field :lat
        = address.hidden_field :lng
        .map

    %h2= t('views.company.contact')
    = f.nested_fields_for :contact do |contact|
      .inputs
        = contact.input :phone
        = contact.input :cellphone
        = contact.input :email

    %h2= t('views.company.user')
    = f.nested_fields_for :user do |user|
      .inputs
        = user.input :email
        = user.input :password
        = user.input :password_confirmation

  .actions
    = link_to t('form.buttons.back'), [:admin, :companies], :class => 'button back'
    -unless @company.new_record?
      = link_to t('form.buttons.delete'), [:admin, @company], :confirm => t('flash.company.delete.advertise'), :method => :delete, :class => "button delete"

    = f.button :submit, t('form.buttons.save'), :class => 'button save'

- content_for :javascript do
  :javascript
    $('.users').nestedFields();